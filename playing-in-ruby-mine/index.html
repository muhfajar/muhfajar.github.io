<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:image" content="https://cdn.muhfajar.workers.dev/sgp1/images/fajar.jpg"><meta property="og:image:width" content="1772"><meta property="og:image:height" content="861"><meta property="og:type" content="website"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@__muhfajar"><meta name=author content="map[name:Muhamad Fajar]"><meta name=description content="I started as Ruby dev in my new job, previously I worked as PHP and Python dev and I found Ruby is slightly different sometimes especially with PHP. First time I read Ruby documentation, Ruby syntax is familiar, that looks like Python with some additional word every end of a function. For example:
def foo(): print(&amp;#39;bar&amp;#39;) def foo puts &amp;#39;bar&amp;#39; end For framework Ruby have Rails (not only Rails actually, many framework out there) and when I came to my new job, I have only 3 days to learn what Ruby is and what is Rails, so basically I am learning by doing after my quick learn from digging up Ruby and Rails documentation."><meta name=keywords content="muhamad fajar,ruby,tech,programing-language,rails"><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://www.muhfajar.blog/playing-in-ruby-mine/><title>Playing in Ruby Mine &bull; Muhamad Fajar</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://www.muhfajar.blog/main.min.667da8af1713d1a63aea00bb8171d90757c72e62aa79b80034cd76a539a1932c.css><link rel=apple-touch-icon sizes=180x180 href=https://www.muhfajar.blog/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.muhfajar.blog/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.muhfajar.blog/favicon-16x16.png><link rel=manifest href=https://www.muhfajar.blog/site.webmanifest><link rel=mask-icon href=https://www.muhfajar.blog/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=https://www.muhfajar.blog/favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="Playing in Ruby Mine"><meta itemprop=description content="I started as Ruby dev in my new job, previously I worked as PHP and Python dev and I found Ruby is slightly different sometimes especially with PHP. First time I read Ruby documentation, Ruby syntax is familiar, that looks like Python with some additional word every end of a function. For example:
def foo(): print('bar') def foo puts 'bar' end For framework Ruby have Rails (not only Rails actually, many framework out there) and when I came to my new job, I have only 3 days to learn what Ruby is and what is Rails, so basically I am learning by doing after my quick learn from digging up Ruby and Rails documentation."><meta itemprop=datePublished content="2018-01-06T12:52:59+07:00"><meta itemprop=dateModified content="2020-05-21T18:09:47+07:00"><meta itemprop=wordCount content="655"><meta itemprop=image content="https://www.muhfajar.blog/"><meta itemprop=keywords content="ruby,tech,programing-language,rails,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.muhfajar.blog/"><meta name=twitter:title content="Playing in Ruby Mine"><meta name=twitter:description content="I started as Ruby dev in my new job, previously I worked as PHP and Python dev and I found Ruby is slightly different sometimes especially with PHP. First time I read Ruby documentation, Ruby syntax is familiar, that looks like Python with some additional word every end of a function. For example:
def foo(): print('bar') def foo puts 'bar' end For framework Ruby have Rails (not only Rails actually, many framework out there) and when I came to my new job, I have only 3 days to learn what Ruby is and what is Rails, so basically I am learning by doing after my quick learn from digging up Ruby and Rails documentation."><meta property="article:section" content="tech"><meta property="article:published_time" content="2018-01-06 12:52:59 +0700 WIB"></head><body><div class=container><header class="header no-print"><span class=header__inner><div class=logo><a href=../ style=text-decoration:none><span class=logo__mark>></span></a>
<a href=../ style=text-decoration:none><span class=logo__text>$ cd /root/</span>
<span class=logo__cursor></span></a></div><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://www.muhfajar.blog/>blog</a></li><li><a href=https://www.muhfajar.id/#contact>contact</a></li><li><a href=https://www.muhfajar.id/>home</a></li><li><a href=https://www.muhfajar.blog/resume>résumé</a></li><li class=hide-on-desktop><a href=https://www.muhfajar.blog/en/settings/>settings</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="settings-menu unselectable hide-on-phone hide-on-tablet"><a href=https://www.muhfajar.blog/en/settings/><svg class="setting-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 0c-.883.0-1.742.102-2.57.283l.349 1.974c.715-.163 1.456-.257 2.221-.257 5.514.0 10 4.486 10 10 0 1.679-.421 3.26-1.154 4.65l-1.377-1.376c-.662-.661-1.002-1.581-.93-2.514.137-1.767-.471-3.58-1.82-4.93-1.225-1.224-2.825-1.83-4.428-1.83-.604.0-1.207.086-1.791.257l3.771 3.771c.408 1.889-2.33 4.66-4.242 4.242L6.258 10.5C6.086 11.084 6 11.688 6 12.292c0 1.602.607 3.202 1.83 4.426 1.35 1.351 3.164 1.958 4.93 1.821.934-.072 1.852.269 2.514.931l1.376 1.376c-1.391.734-2.971 1.154-4.65 1.154-5.514.0-10-4.486-10-10 0-1.914.551-3.697 1.489-5.217l2.173 2.173 1.353-7.014-7.015 1.35 2.037 2.038c-1.282 1.907-2.037 4.198-2.037 6.67.0 6.627 5.373 12 12 12s12-5.373 12-12-5.373-12-12-12z"/></svg></a></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>4 minutes</p></div><div class=post-info><p>This article was posted over a year ago. The information below could be outdated.</p></div><article><h1 class=post-title><a href=https://www.muhfajar.blog/playing-in-ruby-mine/>Playing in Ruby Mine</a></h1><div class=cover-container><a href=https://cdn.muhfajar.workers.dev/sgp1/blog/img/posts/cover/playing-in-ruby-mine.jpg class="progressive replace post-cover"><img src=https://cdn.muhfajar.workers.dev/sgp1/blog/img/posts/cover/playing-in-ruby-mine.jpg alt=image class=preview></a>
<span class="post-cover__source hide-on-phone hide-on-tablet"><a href=https://hipwallpaper.com/view/IZMBfm>source</a></span></div><div class=post-content><p>I started as Ruby dev in my new job, previously I worked as PHP and Python dev and I found Ruby is slightly different sometimes especially with PHP. First time I read Ruby documentation, Ruby syntax is familiar, that looks like Python with some additional word every end of a function. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>foo</span>():
    <span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#39;bar&#39;</span>)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>foo</span>
    puts <span style=color:#e6db74>&#39;bar&#39;</span>
<span style=color:#66d9ef>end</span>
</code></pre></div><p>For framework Ruby have Rails (not only Rails actually, many framework out there) and when I came to my new job, I have only 3 days to learn what Ruby is and what is Rails, so basically I am learning by doing after my quick learn from digging up Ruby and Rails documentation.</p><div class=giphy><iframe src=https://giphy.com/embed/13HBDT4QSTpveU class=giphy__content allowfullscreen scrolling=no allow=encrypted-media></iframe></div><p>On my first Jira task, I really struggle to find out <em>magic</em> behind Rails, a lot of class or module not implicitly import to another class, but I can use that class easily. Different with Django, you must import or define anything you plan to use. In Rails as long as your naming conventions follow documentation you can save a few lines of code (except you&rsquo;re using unofficial Rails Gem, you must import class using &lsquo;use&rsquo; command)</p><h2 id=handy-built-in-method>Handy Built-in Method</h2><h3 id=try-object>try() Object</h3><p>Imagine, you don&rsquo;t to worry about how to handle <code>out of index array</code> in Rails, I just found how to handle array with elegance (yes, as you know, I just to know Ruby about 1 week since this post was done I write), just put object <code>try()</code> after that you don&rsquo;t to worry about the possibility of that object being <code>nil</code> and thus raising an exception. See code snip on below:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=color:#f92672>[].</span>try(<span style=color:#e6db74>:[]</span>, <span style=color:#ae81ff>1</span>) <span style=color:#75715e># =&gt; nil</span>
<span style=color:#f92672>[</span><span style=color:#ae81ff>10</span><span style=color:#f92672>].</span>try(<span style=color:#e6db74>:[]</span>, <span style=color:#ae81ff>1</span>) <span style=color:#75715e># =&gt; nil</span>
<span style=color:#f92672>[</span><span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span><span style=color:#f92672>].</span>try(<span style=color:#e6db74>:[]</span>, <span style=color:#ae81ff>1</span>) <span style=color:#75715e># =&gt; 20</span>
<span style=color:#f92672>[</span><span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span><span style=color:#f92672>].</span>try(<span style=color:#e6db74>:[]</span>, <span style=color:#ae81ff>1</span>) <span style=color:#75715e># =&gt; 20</span>

{}<span style=color:#f92672>.</span>try(<span style=color:#e6db74>:foo</span>) <span style=color:#75715e># =&gt; nil</span>
{ <span style=color:#e6db74>foo</span>: <span style=color:#e6db74>&#39;bar&#39;</span> }<span style=color:#f92672>.</span>try(<span style=color:#e6db74>:foo</span>) <span style=color:#75715e># =&gt; &#39;bar&#39;</span>
</code></pre></div><p>Disclaimer: <code>try()</code> object is good to implement when you not have much time to validate all return came from other object, this will prevent your code from process break, but this technique is not a replacement for good techniques like validations and default database values.</p><h3 id=rails-orm-active-record>Rails ORM: Active Record</h3><p>What is ORM?</p><blockquote><p>Object-relational mapping (ORM, O/RM, and O/R mapping tool) in computer science
is a programming technique for converting data between incompatible type systems
using object-oriented programming languages. This creates, in effect, a &ldquo;virtual
object database&rdquo; that can be used from within the programming language. There are
both free and commercial packages available that perform object-relational mapping,
although some programmers opt to construct their own ORM tools.<a href=https://en.wikipedia.org/wiki/Object-relational_mapping>[1]</a></p></blockquote><p>In the other word, ORM modified or retrieved by writing query statements, and it lets you interact with that data as though it was a normal Ruby object.</p><p>For example from this query to fetch all data from <code>table</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> <span style=color:#66d9ef>table</span>
</code></pre></div><p>Active record (ORM in Rails) will wrap that into <code>all()</code> object.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=color:#66d9ef>Table</span><span style=color:#f92672>.</span>all()
</code></pre></div><h3 id=array-manipulation>Array Manipulation</h3><p>Rails have bunched of method to make coding more fun, for manipulate array Rails have <code>select</code>, <code>each</code>, <code>map</code>, <code>reject</code> and <code>reduct</code>. Let&rsquo;s pick one sample to see what make this method so special.</p><p>Case study:<br>We have dictionary of employee like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby>employee <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
  {
    name: <span style=color:#e6db74>&#34;Andi&#34;</span>, 
    <span style=color:#e6db74>title</span>: <span style=color:#e6db74>&#34;Software Engineer&#34;</span>,
    <span style=color:#e6db74>probation</span>: <span style=color:#66d9ef>false</span>,
    <span style=color:#e6db74>salary</span>: <span style=color:#e6db74>&#34;1100&#34;</span> 
  },  
  {
    name: <span style=color:#e6db74>&#34;Ipeh&#34;</span>, 
    <span style=color:#e6db74>title</span>: <span style=color:#e6db74>&#34;Software Engineer&#34;</span>, 
    <span style=color:#e6db74>probation</span>: <span style=color:#66d9ef>false</span>,
    <span style=color:#e6db74>salary</span>: <span style=color:#e6db74>&#34;1200&#34;</span>
  },  
  {
    name: <span style=color:#e6db74>&#34;Rojak&#34;</span>, 
    <span style=color:#e6db74>title</span>: <span style=color:#e6db74>&#34;Junior Software Engineer&#34;</span>,
    <span style=color:#e6db74>probation</span>: <span style=color:#66d9ef>true</span>,
    <span style=color:#e6db74>salary</span>: <span style=color:#e6db74>&#34;800&#34;</span>
  }
<span style=color:#f92672>]</span>
</code></pre></div><p>Next we want to sum all salary if employee has pass the probation</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=color:#75715e># without each or select</span>

e1 <span style=color:#f92672>=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>0</span><span style=color:#f92672>][</span><span style=color:#e6db74>:probation</span><span style=color:#f92672>]</span>
e2 <span style=color:#f92672>=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>1</span><span style=color:#f92672>][</span><span style=color:#e6db74>:probation</span><span style=color:#f92672>]</span>
e3 <span style=color:#f92672>=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>2</span><span style=color:#f92672>][</span><span style=color:#e6db74>:probation</span><span style=color:#f92672>]</span>

total <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>

<span style=color:#66d9ef>unless</span> e1
    total <span style=color:#f92672>+=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>0</span><span style=color:#f92672>][</span><span style=color:#e6db74>:salary</span><span style=color:#f92672>].</span>to_i
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>unless</span> e2
    total <span style=color:#f92672>+=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>1</span><span style=color:#f92672>][</span><span style=color:#e6db74>:salary</span><span style=color:#f92672>].</span>to_i
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>unless</span> e3
    total <span style=color:#f92672>+=</span> employee<span style=color:#f92672>[</span><span style=color:#ae81ff>2</span><span style=color:#f92672>][</span><span style=color:#e6db74>:salary</span><span style=color:#f92672>].</span>to_i
<span style=color:#66d9ef>end</span>

puts total
</code></pre></div><p>Let&rsquo;s compare if we use some handy method to manipulating array</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=color:#75715e># use reject, map and reduce</span>

puts employee<span style=color:#f92672>.</span>reject{ <span style=color:#f92672>|</span>e<span style=color:#f92672>|</span> e<span style=color:#f92672>[</span><span style=color:#e6db74>:probation</span><span style=color:#f92672>]</span> }<span style=color:#f92672>.</span>map{ <span style=color:#f92672>|</span>y<span style=color:#f92672>|</span> y<span style=color:#f92672>[</span><span style=color:#e6db74>:salary</span><span style=color:#f92672>].</span>to_i }<span style=color:#f92672>.</span>reduce(<span style=color:#e6db74>:+</span>)
</code></pre></div><p>This was my adventure using Ruby so far, that much more I guess when I start to building more complex application. See you next time!</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://www.muhfajar.blog/tags/ruby>ruby</a></span><span class=tag><a href=https://www.muhfajar.blog/tags/tech>tech</a></span><span class=tag><a href=https://www.muhfajar.blog/tags/programing-language>programing-language</a></span><span class=tag><a href=https://www.muhfajar.blog/tags/rails>rails</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>655 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2018-01-06 12:52 +0700</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=https://github.com/muhfajar/blog/commit/8d486e143e6ecddb8fa7a02af5207eb5d8e68179 target=_blank rel=noopener>8d486e1</a> @ 2020-05-21</p></div><div id=comments class=thin><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"muhfajar-id"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main></div><footer class="footer no-print"><div class=footer__inner><div class=footer__content><span>&copy; 2020</span>
<span><a href=https://www.muhfajar.blog/>Muhamad Fajar</a></span>
<span><a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></span>
<span><a href=https://www.muhfajar.blog/posts/index.xml target=_blank title=rss>rss</a></span></div></div></footer></div><script defer type=text/javascript src=https://www.muhfajar.blog/bundle.min.0f62715097ee921057167b8a626b3687a435caec777bfda1f5ee3fe5f1e2769ec1403556a9773a4c100ed82f7d330e4712c808030e379b3c667610b0e8b29bfe.js integrity="sha512-D2JxUJfukhBXFnuKYms2h6Q1yux3e/2h9e4/5fHidp7BQDVWqXc6TBAO2C99Mw5HEsgIAw43mzxmdhCw6LKb/g=="></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-172938328-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-172938328-1');</script></body></html>